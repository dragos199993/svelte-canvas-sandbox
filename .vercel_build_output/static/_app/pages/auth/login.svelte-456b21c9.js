import{S as s,i as a,s as r,e,t,c as l,a as o,g as c,d as i,b as u,f as n,D as d,h as f,k as m,P as b,n as h,Q as p,J as g,R as v,H as x,T as y,I as w,A as E}from"../../chunks/vendor-78de171c.js";import{d as I}from"../../chunks/db-26c0b30b.js";import{g as k}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function L(s){let a,r;return{c(){a=e("div"),r=t(s[2]),this.h()},l(e){a=l(e,"DIV",{class:!0,role:!0});var t=o(a);r=c(t,s[2]),t.forEach(i),this.h()},h(){u(a,"class","bg-red-100 w-full rounded-lg p-4 mb-4 text-sm text-red-700"),u(a,"role","alert")},m(s,e){n(s,a,e),d(a,r)},p(s,a){4&a&&f(r,s[2])},d(s){s&&i(a)}}}function D(s){let a,r,f,w,E,I,k,D,V,j,T,Y,A,B,N,P,U,q,H,O,R,F,J,M,Q,S,z=s[2]&&L(s);return{c(){a=m(),r=e("div"),f=e("div"),w=e("div"),E=e("h1"),I=t("Log in"),k=m(),D=e("form"),z&&z.c(),V=m(),j=e("div"),T=e("label"),Y=t("Your email"),A=m(),B=e("input"),N=m(),P=e("div"),U=e("label"),q=t("Your password"),H=m(),O=e("input"),R=m(),F=e("div"),J=e("button"),M=t("Log in"),this.h()},l(s){b('[data-svelte="svelte-1pui2t1"]',document.head).forEach(i),a=h(s),r=l(s,"DIV",{class:!0});var e=o(r);f=l(e,"DIV",{class:!0});var t=o(f);w=l(t,"DIV",{class:!0});var u=o(w);E=l(u,"H1",{class:!0});var n=o(E);I=c(n,"Log in"),n.forEach(i),k=h(u),D=l(u,"FORM",{class:!0});var d=o(D);z&&z.l(d),V=h(d),j=l(d,"DIV",{class:!0});var m=o(j);T=l(m,"LABEL",{for:!0,class:!0});var p=o(T);Y=c(p,"Your email"),p.forEach(i),A=h(m),B=l(m,"INPUT",{type:!0,id:!0,class:!0}),m.forEach(i),N=h(d),P=l(d,"DIV",{class:!0});var g=o(P);U=l(g,"LABEL",{for:!0,class:!0});var v=o(U);q=c(v,"Your password"),v.forEach(i),H=h(g),O=l(g,"INPUT",{type:!0,id:!0,class:!0}),g.forEach(i),R=h(d),F=l(d,"DIV",{class:!0});var x=o(F);J=l(x,"BUTTON",{type:!0,class:!0});var y=o(J);M=c(y,"Log in"),y.forEach(i),x.forEach(i),d.forEach(i),u.forEach(i),t.forEach(i),e.forEach(i),this.h()},h(){document.title="Log in",u(E,"class","pt-32 text-center text-2xl font-bold"),u(T,"for","email"),u(T,"class","text-sm font-medium text-gray-900 block mb-2"),u(B,"type","email"),u(B,"id","email"),u(B,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),B.required=!0,u(j,"class","mb-6"),u(U,"for","password"),u(U,"class","text-sm font-medium text-gray-900 block mb-2"),u(O,"type","password"),u(O,"id","password"),u(O,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"),O.required=!0,u(P,"class","mb-6"),u(J,"type","submit"),u(J,"class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),u(F,"class","flex justify-end"),u(D,"class","mt-8"),u(w,"class","w-full sm:w-1/2 lg:w-4/12 xl:w-3/12 px-8 sm:px-0"),u(f,"class","w-full flex items-center flex-col"),u(r,"class","container")},m(e,t){n(e,a,t),n(e,r,t),d(r,f),d(f,w),d(w,E),d(E,I),d(w,k),d(w,D),z&&z.m(D,null),d(D,V),d(D,j),d(j,T),d(T,Y),d(j,A),d(j,B),p(B,s[1]),d(D,N),d(D,P),d(P,U),d(U,q),d(P,H),d(P,O),p(O,s[0]),d(D,R),d(D,F),d(F,J),d(J,M),Q||(S=[g(B,"input",s[5]),g(O,"input",s[6]),g(D,"submit",v(s[3]))],Q=!0)},p(s,[a]){s[2]?z?z.p(s,a):(z=L(s),z.c(),z.m(D,V)):z&&(z.d(1),z=null),2&a&&B.value!==s[1]&&p(B,s[1]),1&a&&O.value!==s[0]&&p(O,s[0])},i:x,o:x,d(s){s&&i(a),s&&i(r),z&&z.d(),Q=!1,y(S)}}}function V(s,a,r){let e,t,l,o=null;const c=I.user;return w(s,c,(s=>r(7,e=s))),E((()=>{e&&k("/")})),[t,l,o,async function(){const s=await I.supabase.auth.signIn({email:l,password:t});if(s.error)return console.log(s),void r(2,o=s.error.message);k("/")},c,function(){l=this.value,r(1,l)},function(){t=this.value,r(0,t)}]}class j extends s{constructor(s){super(),a(this,s,V,D,r,{})}}export{j as default};
